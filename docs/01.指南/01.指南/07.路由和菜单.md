---
title: è·¯ç”±å’Œèœå•ï¼ˆæŒç»­æ›´æ–°ä¸­ï¼‰
date: 2022-12-06
permalink: /pages/routerMenu/
---

## è·¯ç”±å’Œèœå•é…ç½®

::: details ç‚¹å‡»æŸ¥çœ‹å®Œæ•´è·¯ç”±å’Œèœå•é…ç½®

```Ts
interface RouteConfigsTable {
  // è·¯ç”±åœ°å€
  path: string;
  // è·¯ç”±åå­—ï¼ˆå¿…é¡»ä¿æŒå”¯ä¸€ï¼‰
  name: string;
  // è·¯ç”±é‡å®šå‘
  redirect: string;
  // è·¯ç”±å…ƒä¿¡æ¯ï¼Œé€šä¿—æ¥è¯´å°±æ˜¯è·¯ç”±ä¸Šçš„é¢å¤–ä¿¡æ¯ https://router.vuejs.org/zh/guide/advanced/meta.html#%E8%B7%AF%E7%94%B1%E5%85%83%E4%BF%A1%E6%81%AF
  meta: {
    // èœå•åç§°ï¼ˆå…¼å®¹å›½é™…åŒ–ã€éå›½é™…åŒ–ï¼Œå¦‚æœç”¨å›½é™…åŒ–çš„å†™æ³•å°±å¿…é¡»åœ¨æ ¹ç›®å½•çš„localesæ–‡ä»¶å¤¹ä¸‹å¯¹åº”æ·»åŠ ï¼‰
    title: string;
    // èœå•å›¾æ ‡
    icon: string;
    // æ˜¯å¦åœ¨èœå•ä¸­æ˜¾ç¤º
    showLink: boolean;
    // èœå•æ’åºï¼Œå€¼è¶Šé«˜æ’çš„è¶Šåï¼ˆåªé’ˆå¯¹é¡¶çº§è·¯ç”±ï¼‰
    rank: number;
  };
  // å­è·¯ç”±é…ç½®é¡¹
  children: [
    {
      // è·¯ç”±åœ°å€
      path: string;
      // è·¯ç”±åå­—ï¼ˆå¿…é¡»å”¯ä¸€å¹¶ä¸”å’Œå½“å‰è·¯ç”±componentå­—æ®µå¯¹åº”çš„é¡µé¢é‡Œç”¨defineOptionsåŒ…èµ·æ¥çš„nameä¿æŒä¸€è‡´ï¼‰
      name: string;
      // è·¯ç”±é‡å®šå‘
      redirect: string;
      // æŒ‰éœ€åŠ è½½éœ€è¦å±•ç¤ºçš„é¡µé¢
      component: RouteComponent;
      // è·¯ç”±å…ƒä¿¡æ¯
      meta: {
        // èœå•åç§°ï¼ˆå…¼å®¹å›½é™…åŒ–ã€éå›½é™…åŒ–ï¼Œå¦‚æœç”¨å›½é™…åŒ–çš„å†™æ³•å°±å¿…é¡»åœ¨æ ¹ç›®å½•çš„localesæ–‡ä»¶å¤¹ä¸‹å¯¹åº”æ·»åŠ ï¼‰
        title: string;
        // èœå•å›¾æ ‡
        icon: string;
        // èœå•åç§°å³ä¾§çš„é¢å¤–å›¾æ ‡
        extraIcon: {
          // æ˜¯å¦æ˜¯svg
          svg: boolean;
          // iconfontåç§°ï¼Œç›®å‰åªæ”¯æŒiconfontï¼Œåç»­æ‹“å±•
          name: string;
        };
        // æ˜¯å¦æ˜¾ç¤ºè¯¥èœå•
        showLink: boolean;
        // æ˜¯å¦æ˜¾ç¤ºçˆ¶çº§èœå•
        showParent: boolean;
        // é¡µé¢çº§åˆ«æƒé™è®¾ç½®
        roles: Array<string>;
        // æŒ‰é’®çº§åˆ«æƒé™è®¾ç½®
        auths: Array<string>;
        // æ˜¯å¦ç¼“å­˜è¯¥è·¯ç”±é¡µé¢ï¼ˆå¼€å¯åï¼Œä¼šä¿å­˜è¯¥é¡µé¢çš„æ•´ä½“çŠ¶æ€ï¼Œåˆ·æ–°åä¼šæ¸…ç©ºçŠ¶æ€ï¼‰
        keepAlive: boolean;
        // éœ€è¦å†…åµŒçš„iframeé“¾æ¥åœ°å€
        frameSrc: string;
        // å†…åµŒçš„iframeé¡µé¢æ˜¯å¦å¼€å¯é¦–æ¬¡åŠ è½½åŠ¨ç”»
        frameLoading: boolean;
        // é¡µé¢åŠ è½½åŠ¨ç”»ï¼ˆä¸¤ç§æ¨¡å¼ï¼Œç¬¬ä¸€ç§ç›´æ¥é‡‡ç”¨vueå†…ç½®çš„transitionsåŠ¨ç”»ï¼Œç¬¬äºŒç§æ˜¯ä½¿ç”¨animate.cssç¼–å†™è¿›ã€ç¦»åœºåŠ¨ç”»ï¼Œå¹³å°æ›´æ¨èä½¿ç”¨ç¬¬äºŒç§æ¨¡å¼ï¼Œå·²ç»å†…ç½®äº†animate.cssï¼Œç›´æ¥å†™å¯¹åº”çš„åŠ¨ç”»åå³å¯ï¼‰
        transition: {
          // å½“å‰é¡µé¢åŠ¨ç”»ï¼Œè¿™é‡Œæ˜¯ç¬¬ä¸€ç§æ¨¡å¼ï¼Œæ¯”å¦‚ name: "fade" æ›´å…·ä½“çœ‹åé¢é“¾æ¥ https://cn.vuejs.org/api/built-in-components.html#transition
          name: string;
          // å½“å‰é¡µé¢è¿›åœºåŠ¨ç”»ï¼Œè¿™é‡Œæ˜¯ç¬¬äºŒç§æ¨¡å¼ï¼Œæ¯”å¦‚ enterTransition: "animate__fadeInLeft"
          enterTransition: string;
          // å½“å‰é¡µé¢ç¦»åœºåŠ¨ç”»ï¼Œè¿™é‡Œæ˜¯ç¬¬äºŒç§æ¨¡å¼ï¼Œæ¯”å¦‚ leaveTransition: "animate__fadeOutRight"
          leaveTransition: string;
        };
        // å½“å‰èœå•åç§°æˆ–è‡ªå®šä¹‰ä¿¡æ¯ç¦æ­¢æ·»åŠ åˆ°æ ‡ç­¾é¡µ
        hiddenTag: boolean;
        // æ˜¾ç¤ºåœ¨æ ‡ç­¾é¡µçš„æœ€å¤§æ•°é‡ï¼Œéœ€æ»¡è¶³åé¢çš„æ¡ä»¶ï¼šä¸æ˜¾ç¤ºåœ¨èœå•ä¸­çš„è·¯ç”±å¹¶ä¸”æ˜¯é€šè¿‡queryæˆ–paramsä¼ å‚æ¨¡å¼æ‰“å¼€çš„é¡µé¢ã€‚åœ¨å®Œæ•´ç‰ˆå…¨å±€æœdynamicLevelå³å¯æŸ¥çœ‹ä»£ç æ¼”ç¤º
        dynamicLevel: number;
      };
    },
  ],
};
```

:::

## é™æ€è·¯ç”±

åœ¨å‰ç«¯ä»£ç é‡Œå†™ä¸Šå›ºå®šçš„è·¯ç”±å³é™æ€è·¯ç”±ã€‚å¹³å°æ”¯æŒä»»æ„å±‚çº§èœå•æ ¼å¼ï¼Œä¸‹é¢åˆ—ä¸¾æœ€å¸¸ç”¨çš„èœå•å±‚çº§æ¨¡å¼ï¼Œæ›´æ·±å±‚çº§æŒ‰ç…§ä¸‹é¢æ ¼å¼å³å¯

### å¦‚ä½•ç”Ÿæˆä¸€çº§èœå•

::: details

æ¯”å¦‚æˆ‘ä»¬è¦ç”Ÿæˆä¸€ä¸ªåä¸º `åŠ æ²¹` çš„èœå•

1. æ–°å»º `src/router/modules/fighting.ts` æ–‡ä»¶ï¼ŒåŠ å…¥å¦‚ä¸‹ä»£ç 

`fighting.ts`

```Ts
// æœ€ç®€ä»£ç ï¼Œä¹Ÿå°±æ˜¯è¿™äº›å­—æ®µå¿…é¡»æœ‰
export default {
  path: "/fighting",
  meta: {
    title: "åŠ æ²¹"
  },
  children: [
    {
      path: "/fighting/index",
      name: "Fighting",
      component: () => import("@/views/fighting/index.vue"),
      meta: {
        title: "åŠ æ²¹"
      }
    }
  ]
};
```

2. æ–°å»º `src/views/fighting/index.vue` æ–‡ä»¶ï¼ŒåŠ å…¥å¦‚ä¸‹ä»£ç 

`index.vue`

```Vue
<script setup lang="ts">
defineOptions({
  // name ä½œä¸ºä¸€ç§è§„èŒƒæœ€å¥½å¿…é¡»å†™ä¸Šå¹¶ä¸”å’Œè·¯ç”±çš„nameä¿æŒä¸€è‡´
  name: "Fighting"
});
</script>

<template>
  <h1>åŠ æ²¹</h1>
</template>
```

ä¸Šé¢æ‰€å†™ä»£ç å¦‚ä¸‹å›¾æ•ˆæœ

![static1](~@alias/img/router/static1.jpg)

:::

### å¦‚ä½•ç”ŸæˆäºŒçº§èœå•ï¼ˆä¸¤ç§æ¨¡å¼ï¼‰

#### ç¬¬ä¸€ç§ï¼ˆè¯¥æ¨¡å¼é’ˆå¯¹çˆ¶çº§èœå•ä¸‹åªæœ‰ä¸€ä¸ªå­èœå•çš„æƒ…å†µï¼Œåœ¨å­èœå•çš„ `meta` å±æ€§ä¸­åŠ ä¸Š `showParent: true` å³å¯ï¼‰

::: details ç‚¹å‡»æŸ¥çœ‹

```Ts
// æœ€ç®€ä»£ç ï¼Œä¹Ÿå°±æ˜¯è¿™äº›å­—æ®µå¿…é¡»æœ‰
export default {
  path: "/fighting",
  meta: {
    title: "åŠ±å¿—"
  },
  children: [
    {
      path: "/fighting/index",
      name: "Fighting",
      component: () => import("@/views/fighting/index.vue"),
      meta: {
        title: "åŠ æ²¹",
        // é€šè¿‡è®¾ç½®showParentä¸ºtrueï¼Œæ˜¾ç¤ºçˆ¶çº§
        showParent: true
      }
    }
  ]
};
```

å¦‚ä¸‹å›¾æ•ˆæœ

![static2](~@alias/img/router/static2.jpg)

:::

#### ç¬¬äºŒç§ï¼ˆè¯¥æ¨¡å¼é’ˆå¯¹çˆ¶çº§èœå•ä¸‹æœ‰å¤§äºæˆ–ç­‰äºä¸¤ä¸ªå­èœå•çš„æƒ…å†µï¼‰

::: details ç‚¹å‡»æŸ¥çœ‹

```Ts
// æœ€ç®€ä»£ç ï¼Œä¹Ÿå°±æ˜¯è¿™äº›å­—æ®µå¿…é¡»æœ‰
export default {
  path: "/fighting",
  meta: {
    title: "åŠ±å¿—"
  },
  children: [
    {
      path: "/fighting/index",
      name: "Fighting",
      component: () => import("@/views/fighting/index.vue"),
      meta: {
        title: "åŠ æ²¹"
      }
    },
    {
      path: "/fighting/effort",
      name: "Effort",
      component: () => import("@/views/fighting/effort.vue"),
      meta: {
        title: "åŠªåŠ›"
      }
    }
  ]
};
```

å¦‚ä¸‹å›¾æ•ˆæœ

![static3](~@alias/img/router/static3.jpg)

:::

### å¦‚ä½•ç”Ÿæˆä¸‰çº§èœå•ï¼ˆä¸¤ç§æ¨¡å¼ï¼‰

#### ç¬¬ä¸€ç§ï¼ˆè¯¥æ¨¡å¼é’ˆå¯¹çˆ¶çº§èœå•ä¸‹åªæœ‰ä¸€ä¸ªå­èœå•çš„æƒ…å†µï¼Œåœ¨å­èœå•çš„ `meta` å±æ€§ä¸­åŠ ä¸Š `showParent: true` å³å¯ï¼‰

::: details ç‚¹å‡»æŸ¥çœ‹

```Ts
// æœ€ç®€ä»£ç ï¼Œä¹Ÿå°±æ˜¯è¿™äº›å­—æ®µå¿…é¡»æœ‰
export default {
  path: "/nested",
  meta: {
    title: "å¤šçº§èœå•"
  },
  children: [
    {
      path: "/nested/menu1",
      meta: {
        title: "èœå•1"
      },
      children: [
        {
          path: "/nested/menu1/menu1-1",
          component: () => import("@/views/nested/menu1/menu1-1/index.vue"),
          name: "Menu1-1",
          meta: {
            title: "èœå•1-1",
            // é€šè¿‡è®¾ç½®showParentä¸ºtrueï¼Œæ˜¾ç¤ºçˆ¶çº§
            showParent: true
          }
        }
      ]
    }
  ]
};
```

å¦‚ä¸‹å›¾æ•ˆæœ

![static4](~@alias/img/router/static4.jpg)

:::

#### ç¬¬äºŒç§ï¼ˆè¯¥æ¨¡å¼é’ˆå¯¹çˆ¶çº§èœå•ä¸‹æœ‰å¤§äºæˆ–ç­‰äºä¸¤ä¸ªå­èœå•çš„æƒ…å†µï¼‰

::: details ç‚¹å‡»æŸ¥çœ‹

```Ts
// æœ€ç®€ä»£ç ï¼Œä¹Ÿå°±æ˜¯è¿™äº›å­—æ®µå¿…é¡»æœ‰
export default {
  path: "/nested",
  meta: {
    title: "å¤šçº§èœå•"
  },
  children: [
    {
      path: "/nested/menu1",
      meta: {
        title: "èœå•1"
      },
      children: [
        {
          path: "/nested/menu1/menu1-1",
          component: () => import("@/views/nested/menu1/menu1-1/index.vue"),
          name: "Menu1-1",
          meta: {
            title: "èœå•1-1"
          }
        },
        {
          path: "/nested/menu1/menu1-2",
          component: () => import("@/views/nested/menu1/menu1-2/index.vue"),
          name: "Menu1-2",
          meta: {
            title: "èœå•1-2"
          }
        }
      ]
    }
  ]
};
```

å¦‚ä¸‹å›¾æ•ˆæœ

![static5](~@alias/img/router/static5.jpg)

:::

### å¦‚ä½•ç”Ÿæˆå››çº§èœå•ï¼ˆä¸¤ç§æ¨¡å¼ï¼‰

#### ç¬¬ä¸€ç§ï¼ˆè¯¥æ¨¡å¼é’ˆå¯¹çˆ¶çº§èœå•ä¸‹åªæœ‰ä¸€ä¸ªå­èœå•çš„æƒ…å†µï¼Œåœ¨å­èœå•çš„ `meta` å±æ€§ä¸­åŠ ä¸Š `showParent: true` å³å¯ï¼‰

::: details ç‚¹å‡»æŸ¥çœ‹

```Ts
// æœ€ç®€ä»£ç ï¼Œä¹Ÿå°±æ˜¯è¿™äº›å­—æ®µå¿…é¡»æœ‰
export default {
  path: "/nested",
  meta: {
    title: "å¤šçº§èœå•"
  },
  children: [
    {
      path: "/nested/menu1",
      meta: {
        title: "èœå•1"
      },
      children: [
        {
          path: "/nested/menu1/menu1-1",
          meta: {
            title: "èœå•1-1"
          },
          children: [
            {
              path: "/nested/menu1/menu1-1/menu1-1-1",
              component: () =>
                import("@/views/nested/menu1/menu1-1/menu1-1-1/index.vue"),
              name: "Menu1-1-1",
              meta: {
                title: "èœå•1-1-1",
                // é€šè¿‡è®¾ç½®showParentä¸ºtrueï¼Œæ˜¾ç¤ºçˆ¶çº§
                showParent: true
              }
            }
          ]
        }
      ]
    }
  ]
};
```

å¦‚ä¸‹å›¾æ•ˆæœ

![static6](~@alias/img/router/static6.jpg)

:::

#### ç¬¬äºŒç§ï¼ˆè¯¥æ¨¡å¼é’ˆå¯¹çˆ¶çº§èœå•ä¸‹æœ‰å¤§äºæˆ–ç­‰äºä¸¤ä¸ªå­èœå•çš„æƒ…å†µï¼‰

::: details ç‚¹å‡»æŸ¥çœ‹

```Ts
// æœ€ç®€ä»£ç ï¼Œä¹Ÿå°±æ˜¯è¿™äº›å­—æ®µå¿…é¡»æœ‰
export default {
  path: "/nested",
  meta: {
    title: "å¤šçº§èœå•"
  },
  children: [
    {
      path: "/nested/menu1",
      meta: {
        title: "èœå•1"
      },
      children: [
        {
          path: "/nested/menu1/menu1-1",
          meta: {
            title: "èœå•1-1"
          },
          children: [
            {
              path: "/nested/menu1/menu1-1/menu1-1-1",
              component: () =>
                import("@/views/nested/menu1/menu1-1/menu1-1-1/index.vue"),
              name: "Menu1-1-1",
              meta: {
                title: "èœå•1-1-1"
              }
            },
            {
              path: "/nested/menu1/menu1-1/menu1-1-2",
              component: () =>
                import("@/views/nested/menu1/menu1-1/menu1-1-2/index.vue"),
              name: "Menu1-1-2",
              meta: {
                title: "èœå•1-1-2"
              }
            }
          ]
        }
      ]
    }
  ]
};
```

å¦‚ä¸‹å›¾æ•ˆæœ

![static7](~@alias/img/router/static7.jpg)

:::

### æ³¨æ„ç‚¹

#### é‡å®šå‘

å¯ä»¥çœ‹åˆ°ä¸Šé¢ç”Ÿæˆèœå•çš„è·¯ç”±é…ç½®é¡¹æˆ‘å¹¶æ²¡æœ‰åŠ ä¸Š `redirect` å±æ€§ï¼Œå½“ä½¿ç”¨ `fighting` è·¯å¾„è·³è½¬æ—¶ï¼Œå°±ä¼šè·‘åˆ° `404` é¡µé¢ï¼Œå¦‚ä¸‹å›¾

![redirect](~@alias/img/router/redirect.gif)

æ‰€ä»¥æˆ‘ä»¬æœ€å¥½åœ¨å†™é™æ€è·¯ç”±é…ç½®æ—¶å°†çˆ¶çº§åŠ ä¸Š `redirect` å±æ€§ï¼Œ`redirect` å¯ä»¥å¡«å†™æ‚¨æƒ³è¦é‡å®šå‘çš„ `path` å³å¯ï¼Œå…·ä½“å¯ä»¥å‚è€ƒ [src/router/modules/nested.ts](https://gitee.com/yiming_chang/vue-pure-admin/blob/main/src/router/modules/nested.ts)

#### ç±»å‹æç¤º

åˆ†ä¸¤ç§

1. `export default` åè·Ÿ `{}`ï¼Œè¿™ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§ï¼Œåœ¨è·¯ç”±çš„é…ç½®é¡¹æœ€ååŠ ä¸Š `as RouteConfigsTable` å³å¯è·å¾—ç±»å‹æç¤ºï¼Œå¦‚ä¸‹å›¾

![static10](~@alias/img/router/static10.jpg)

2. `export default` åè·Ÿ `[]`ï¼Œåœ¨è·¯ç”±çš„é…ç½®é¡¹æœ€ååŠ ä¸Š `as Array<RouteConfigsTable>` å³å¯è·å¾—ç±»å‹æç¤ºï¼Œå¦‚ä¸‹å›¾

![static11](~@alias/img/router/static11.jpg)

:::tip æ‚¨è‚¯å®šæƒ³é—® RouteConfigsTable æ˜¯å“ªé‡Œæ¥çš„å‘¢ï¼Ÿ
[æˆ‘åœ¨è¿™å‘¢ï¼Œå¿«å¿«ç‚¹æˆ‘æŸ¥çœ‹ ğŸ˜Š](https://gitee.com/yiming_chang/pure-admin-thin/blob/main/types/global.d.ts#L223)
:::

#### ç¦æ­¢ä¿®æ”¹æˆ–åˆ é™¤çš„è·¯ç”±

`src/router/modules` æ–‡ä»¶å¤¹é‡Œçš„ `home.ts`ã€`remaining.ts`ã€`error.ts` è¿™ä¸‰ä¸ªæ–‡ä»¶ä¸å¯ä¿®æ”¹æˆ–åˆ é™¤ï¼Œå› ä¸ºå¹³å°çš„æŸäº›æ ¸å¿ƒé€»è¾‘æ˜¯æ ¹æ®è¿™ä¸‰ä¸ªæ–‡ä»¶ä½œå¤„ç†

![static8](~@alias/img/router/static8.jpg)

å¦‚æœä¸æƒ³åœ¨é¡µé¢æ˜¾ç¤ºï¼Œåœ¨é¡¶çº§è·¯ç”±çš„ `meta` å±æ€§åŠ ä¸Š `showLink: false` å³å¯ï¼Œå¦‚ä¸‹å›¾

![static9](~@alias/img/router/static9.jpg)

#### æ·»åŠ æ—  `layout` çš„é¡µé¢

ä½¿ç”¨åœºæ™¯ï¼šéœ€è¦å¤–åµŒå¹³å°æŸä¸ªé¡µé¢ï¼Œä¸éœ€è¦å±•ç¤ºèœå•å¯¼èˆªä»¥åŠé¢å¤–æ¨¡å—ï¼Œåªéœ€è¦å±•ç¤ºä¸šåŠ¡å†…å®¹æ¨¡å—  
æ—  `layout` é¡µé¢ä¹Ÿå°±ç›¸å½“äºä¸€ä¸ªå…¨å±ç©ºç™½é¡µé¢ï¼Œæ²¡æœ‰èœå•å¯¼èˆªä»¥åŠé¢å¤–æ¨¡å—ï¼Œå¦‚ä¸‹å›¾

![layout](~@alias/img/router/layout.gif)

å¦‚ä½•æ·»åŠ ï¼Ÿ

1. åœ¨ `src/router/modules/remaining.ts` æ–‡ä»¶æ·»åŠ å¯¹åº”è·¯ç”± [å…·ä½“å‚è€ƒ](https://gitee.com/yiming_chang/vue-pure-admin/blob/main/src/router/modules/remaining.ts#L32)

2. æ·»åŠ å¯¹åº”ä¸šåŠ¡ä»£ç é¡µé¢ [å…·ä½“å‚è€ƒ](https://gitee.com/yiming_chang/vue-pure-admin/tree/main/src/views/empty)

:::tip æ¸©é¦¨æç¤º
å¿…é¡»åœ¨ `src/router/modules/remaining.ts` æ–‡ä»¶æ·»åŠ å“¦
:::

## åŠ¨æ€è·¯ç”±

å¾…æ›´æ–°

## é™æ€ã€åŠ¨æ€è·¯ç”±ç›¸åŒçš„é…ç½®

å¾…æ›´æ–°

## èœå•

å¾…æ›´æ–°
