---
title: 非平台问题跟踪记录
date: 2022-11-11
permalink: /pages/track/
---

从 `2020年11月16` 开发平台到现在，已然忘记踩了多少坑，找了多少 `issues、pull requests` 以及重构了多少次，但是我并没有做记录，感觉很可惜，当然由于平台使用的技术比较新，也一直在跟随潮流，这也难免会出现一些很令人难以寻味的非平台 `bug`，从 `2022年11月11日` 起决定开始记录对平台影响较大的问题，供使用者参考（无任何抨击！感恩开源！）

## `2022年11月11日`（`vue`、`Vue.js devtools`）

### 发现 `vue` 的 `bug`

- `vue v3.2.41` 及以上版本和 `Vue.js devtools v6.4.5` 两者一起使用，页面卡顿明显，尤其当页面元素多以及同一时刻操作较多元素是最为明显。解决办法：卸载 `Vue.js devtools`，毕竟我也不用 😄，断点调试足以（卸载 `Vue.js devtools` 后，页面比 `vue v3.2.41` 之前操作还流畅）

### 排查方法

- 将 `vue` 升级到 `v3.2.41` 版本后，开发环境页面卡顿明显，当我打包后，线上预览很丝滑。然后我把平台的项目很多依赖都升级了个遍还不行，删除 `pnpm-lock.yaml` 和 `node_modules` 重新安装也不行，于是我怀疑是 `pnpm` 的问题，又把 `pnpm ` 从 `6` 升到 `7` 但还是不行，接着我把项目放到火狐浏览器运行，很流畅 😭，因为我平时不咋用火狐，没有安装任何插件，这样我就排查到问题出在谷歌浏览器的 `Vue.js devtools` 插件了，当前之前我在 `vue` 的 `issues` 中看到不少 `Vue.js devtools` 会导致页面崩溃和内存泄露的问题

## `2022年11月11日`（`vite`）

`2022年11月11日` 我将平台的 `vite` 版本固定到了 `3.1.8` ，因为之后的版本问题还是有点多，尤其是这个 [issues](https://github.com/vitejs/vite/issues/10658)，说的是 `vite v3.1.8` 以上版本首次启动在 `windows` 的表现比 `mac` 慢两倍。当然 `vite v4` 快来了，应该会解决很多问题，到时我们在升级。这里大家要注意下，依赖包还是跟着平台的版本去使用，不要随便升级，平台每次升级依赖都会去做测试（开发、生产）
